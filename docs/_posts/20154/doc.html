{"code":"20000","msg":"成功","data":{"id":"20154","pid":"12035","name":"02- 安装Docker","icon":null,"tags":["Docker"],"sort":null,"cover":null,"describes":null,"starStatus":null,"pv":null,"uv":4,"likes":0,"words":717,"version":null,"markdown":null,"html":"<p>安装和使用Docker和Docker Compose在树莓派上搭建服务器环境非常方便。下面是详细的步骤：</p>\n<h1 id=\"1-安装Docker\">安装Docker</h1><p>可以使用以下命令来在树莓派上安装Docker：</p>\n<pre><code id=\"pre-1707043540801-822128\" class=\"hljs language-shell\">curl -sSL https://get.docker.com | sh</code><ol><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043540801-822128')\">shell</div></pre><p>这将自动下载并安装最新版本的Docker。</p>\n<h1 id=\"1-启动Docker服务\">启动Docker服务</h1><p>安装完成后，通过以下命令启动Docker服务：</p>\n<pre><code id=\"pre-1707043540801-581467\" class=\"hljs language-shell\">sudo systemctl enable docker\nsudo systemctl start docker</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043540801-581467')\">shell</div></pre><p>这将使得Docker在树莓派启动时自动运行，并立即启动Docker服务。</p>\n<h1 id=\"1-验证Docker安装\">验证Docker安装</h1><p>运行以下命令来验证Docker是否成功安装：</p>\n<pre><code id=\"pre-1707043540801-655373\" class=\"hljs language-shell\">sudo docker version</code><ol><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043540801-655373')\">shell</div></pre><p>如果一切顺利，将会显示出Docker客户端和服务器版本信息，表明Docker已成功安装并正常工作。</p>\n<h1 id=\"1-安装Docker Compose\">安装Docker Compose</h1><p>首先，确保你的树莓派已经安装安装了Docker。然后使用以下命令来在树莓派上安装Docker Compose：</p>\n<pre><code id=\"pre-1707043540801-680423\" class=\"hljs language-shell\">sudo apt-get install docker-compose</code><ol><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043540801-680423')\">shell</div></pre><p>这将自动下载并安装最新版本的Docker Compose。</p>\n<h1 id=\"1-创建docker-compose.yml文件\">创建docker-compose.yml文件</h1><p>在开始使用Docker Compose之前，需要创建一个docker-compose.yml文件来定义你想要运行的容器。</p>\n<h1 id=\"1-启动容器服务\">启动容器服务</h1><p>在包含docker-compose.yml文件的目录中运行以下命令来启动服务：</p>\n<pre><code id=\"pre-1707043540801-409897\" class=\"hljs language-shell\">docker-compose up -d</code><ol><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043540801-409897')\">shell</div></pre><p>这将会拉取所需镜像并启动相应容器。-d选项指定以后台模式运行。</p>\n<p>现在，你的服务应该已经成功启动。</p>\n<h1 id=\"1-管理服务\">管理服务</h1><p>可以使用以下命令来管理已经通过Compose启动的服务：</p>\n<ul>\n<li>启动或重新构建服务：<code>docker-compose up -d</code></li>\n<li>停止服务：<code>docker-compose stop</code></li>\n<li>删除所有容器：<code>docker-compose down</code></li>\n</ul>\n<p>如果你对<code>docker-compose.yml</code>进行了修改，需要重启服务才能使更改生效：</p>\n<pre><code id=\"pre-1707043540801-350704\" class=\"hljs language-shell\">docker-compose restart</code><ol><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043540801-350704')\">shell</div></pre><p>至此，你已经成功地在树莓派上安装并使用了Docker Compose来搭建服务器环境。记得适时更新和管理容器和服务。</p>\n","creTime":null,"updTime":null,"color":null,"toc":"[{\"level\":1,\"clazz\":\"toc-1\",\"index\":0,\"content\":\"安装Docker\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":1,\"content\":\"启动Docker服务\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":2,\"content\":\"验证Docker安装\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":3,\"content\":\"安装Docker Compose\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":4,\"content\":\"创建docker-compose.yml文件\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":5,\"content\":\"启动容器服务\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":6,\"content\":\"管理服务\"}]","type":3,"openStatus":null,"syncTime":"2024-02-04 18:55:36","openTime":"2024-02-04 18:55:36","openVersion":2}}