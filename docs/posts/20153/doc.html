{
    "id": "20153",
    "pid": "12035",
    "name": "01- å®‰è£…MariaDB",
    "icon": null,
    "tags": [
        "MySQL"
    ],
    "sort": null,
    "cover": null,
    "describes": null,
    "starStatus": null,
    "pv": null,
    "uv": 5,
    "likes": 0,
    "words": 46,
    "version": null,
    "markdown": null,
    "html": "<h1 id=\"1-åˆ‡æ¢rootæƒé™\">åˆ‡æ¢rootæƒé™</h1><pre><code id=\"pre-1707043105950-815532\" class=\"hljs language-shell\">sudo -i\napt-get update\napt-get --purge remove mysql-common\napt-get install mariadb-server mariadb-client libmariadb-dev</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043105950-815532')\">shell</div></pre><h1 id=\"1-è®¾ç½®è¿œç¨‹è®¿é—®\">è®¾ç½®è¿œç¨‹è®¿é—®</h1><pre><code id=\"pre-1707043105950-53874\" class=\"hljs language-shell\">mysql</code><ol><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043105950-53874')\">shell</div></pre><pre><code id=\"pre-1707043105950-997574\" class=\"hljs language-sql\"><span class=\"hljs-keyword\">show</span> databases;\nuse mysql;\n<span class=\"hljs-keyword\">ALTER</span> <span class=\"hljs-keyword\">USER</span> <span class=\"hljs-string\">'root'</span>@<span class=\"hljs-string\">'localhost'</span> IDENTIFIED <span class=\"hljs-keyword\">BY</span> <span class=\"hljs-string\">'123456'</span>;\n<span class=\"hljs-keyword\">GRANT</span> <span class=\"hljs-keyword\">ALL</span> PRIVILEGES <span class=\"hljs-keyword\">ON</span> <span class=\"hljs-operator\">*</span>.<span class=\"hljs-operator\">*</span> <span class=\"hljs-keyword\">TO</span> root@\"%\" IDENTIFIED <span class=\"hljs-keyword\">BY</span> \"123456\";\nflush privileges; \nquit;</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043105950-997574')\">sql</div></pre><blockquote class=\"bl-blockquote-red\"><p>\nğŸ”´ æ³¨æ„</p>\n</blockquote><pre><code id=\"pre-1707043105950-824169\" class=\"hljs language-sql\"># <span class=\"hljs-number\">10.4</span><span class=\"hljs-number\">.4</span>ä»¥ä¸Šç‰ˆæœ¬\n<span class=\"hljs-keyword\">ALTER</span> <span class=\"hljs-keyword\">USER</span> <span class=\"hljs-string\">'root'</span>@<span class=\"hljs-string\">'localhost'</span> IDENTIFIED <span class=\"hljs-keyword\">BY</span> <span class=\"hljs-string\">'newpassword'</span>;\n# <span class=\"hljs-number\">10.4</span><span class=\"hljs-number\">.4</span>ä»¥ä¸‹ç‰ˆæœ¬\n<span class=\"hljs-keyword\">SET</span> PASSWORD <span class=\"hljs-keyword\">FOR</span> <span class=\"hljs-string\">'root'</span>@<span class=\"hljs-string\">'localhost'</span> <span class=\"hljs-operator\">=</span> PASSWORD(<span class=\"hljs-string\">'newpassword'</span>);</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043105950-824169')\">sql</div></pre><h1 id=\"1-å¼€å¯è¿œç¨‹è®¿é—®æƒé™\">å¼€å¯è¿œç¨‹è®¿é—®æƒé™</h1><pre><code id=\"pre-1707043105950-411556\" class=\"hljs language-shell\">nano /etc/mysql/mariadb.conf.d/50-server.cnf</code><ol><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043105950-411556')\">shell</div></pre><pre><code id=\"pre-1707043105950-102202\" class=\"hljs language-properties\"><span class=\"hljs-comment\"># ä¿®æ”¹å¦‚ä¸‹é€‰é¡¹</span>\n<span class=\"hljs-attr\">bind-address</span>            = <span class=\"hljs-string\">0.0.0.0</span></code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043105950-102202')\">properties</div></pre><pre><code id=\"pre-1707043105950-396958\" class=\"hljs language-shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">ä¿®æ”¹å®Œæ¯•ï¼Œé‡å¯æœåŠ¡</span>\nservice mariadb restart</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043105950-396958')\">shell</div></pre><h1 id=\"1-é‡ç½®å¯†ç \">é‡ç½®å¯†ç </h1><pre><code id=\"pre-1707043105950-624305\" class=\"hljs language-shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">åœæ­¢æœåŠ¡</span>\nsystemctl stop mariadb.service\n<span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">å–æ¶ˆå®‰å…¨éªŒè¯</span>\nsudo mysqld_safe --skip-grant-tables --skip-networking &amp;\nsudo mysql</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043105950-624305')\">shell</div></pre><h1 id=\"1-å¸è½½MySQL\">å¸è½½MySQL</h1><pre><code id=\"pre-1707043105950-523499\" class=\"hljs language-shell\">sudo apt-get --purge remove mariadb-server</code><ol><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043105950-523499')\">shell</div></pre><h1 id=\"1-æ›´æ¢æ•°æ®å­˜æ”¾ç›®å½•\">æ›´æ¢æ•°æ®å­˜æ”¾ç›®å½•</h1><pre><code id=\"pre-1707043105950-808596\" class=\"hljs language-shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">åœæ­¢æœåŠ¡</span>\nservice mariadb stop\n<span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">åˆ›å»ºæ•°æ®å­˜æ”¾ç›®å½•</span>\nmkdir /data/mysql -p\n<span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">ä¿®æ”¹ç›®å½•æ‰€æœ‰è€…/æ‰€å±ç»„ä¸ºmysql</span>\nchown -R mysql:mysql /data/mysql\n<span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">å°†mysqlæ•°æ®æ–‡ä»¶æ‹·è´åˆ°æ–°ç›®å½•</span>\ncp -a /var/lib/mysql/* /data/mysql/</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707043105950-808596')\">shell</div></pre>",
    "creTime": null,
    "updTime": null,
    "color": null,
    "toc": "[{\"level\":1,\"clazz\":\"toc-1\",\"index\":0,\"content\":\"åˆ‡æ¢rootæƒé™\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":1,\"content\":\"è®¾ç½®è¿œç¨‹è®¿é—®\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":2,\"content\":\"å¼€å¯è¿œç¨‹è®¿é—®æƒé™\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":3,\"content\":\"é‡ç½®å¯†ç \"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":4,\"content\":\"å¸è½½MySQL\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":5,\"content\":\"æ›´æ¢æ•°æ®å­˜æ”¾ç›®å½•\"}]",
    "type": 3,
    "openStatus": null,
    "syncTime": "2024-02-04 18:38:03",
    "openTime": "2024-02-04 18:38:03",
    "openVersion": 4
}