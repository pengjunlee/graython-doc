{"code":"20000","msg":"成功","data":{"id":"20159","pid":"12035","name":"07- Nginx安装与配置","icon":null,"tags":["Nginx"],"sort":null,"cover":null,"describes":null,"starStatus":null,"pv":null,"uv":3,"likes":0,"words":98,"version":null,"markdown":null,"html":"<h1 id=\"1-安装Nginx\">安装Nginx</h1><pre><code id=\"pre-1707051719886-144483\" class=\"hljs language-bash\"><span class=\"hljs-comment\"># 切换root权限</span>\nsudo -i\n<span class=\"hljs-comment\"># 一键安装</span>\napt-get install nginx\n<span class=\"hljs-comment\"># 查看nginx相关目录</span>\nwhereis nginx\n<span class=\"hljs-comment\"># 查看nginx的版本号</span>\nnginx -v</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707051719886-144483')\">bash</div></pre><h1 id=\"1-常用命令\">常用命令</h1><pre><code id=\"pre-1707051719886-783723\" class=\"hljs language-bash\"><span class=\"hljs-comment\"># 启动Nginx</span>\nnginx\n<span class=\"hljs-comment\"># 快速停止或关闭nginx</span>\nsudo nginx -s stop\n<span class=\"hljs-comment\"># 正常停止或关闭nginx</span>\nsudo nginx -s quit\n<span class=\"hljs-comment\"># 配置文件修改重装载命令</span>\nsudo nginx -s reload</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707051719886-783723')\">bash</div></pre><h1 id=\"1-网站配置\">网站配置</h1><ul>\n<li>可用站点配置目录：<code>/etc/nginx/sites-available/</code></li>\n<li>启用站点配置目录：<code>/etc/nginx/sites-enabled/</code></li>\n</ul>\n<h2 id=\"2-Blossom\">Blossom</h2><pre><code id=\"pre-1707051719887-160768\" class=\"hljs language-bash\"><span class=\"hljs-built_in\">cd</span> /etc/nginx/sites-available/\nsudo <span class=\"hljs-built_in\">touch</span> blossom</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707051719887-160768')\">bash</div></pre><p>配置如下：</p>\n<pre><code id=\"pre-1707051719887-352471\" class=\"hljs language-yaml\">    <span class=\"hljs-string\">server</span> {\n        <span class=\"hljs-string\">listen</span>                     <span class=\"hljs-number\">9999 </span><span class=\"hljs-string\">ssl;</span>\n        <span class=\"hljs-string\">server_name</span>                <span class=\"hljs-string\">www.javer.love;</span>\n        <span class=\"hljs-string\">ssl_certificate</span>            <span class=\"hljs-string\">/etc/nginx/ssl/www.javer.love.pem;</span>\n        <span class=\"hljs-string\">ssl_certificate_key</span>        <span class=\"hljs-string\">/etc/nginx/ssl/www.javer.love.key;</span>\n        <span class=\"hljs-string\">ssl_session_timeout</span>        <span class=\"hljs-string\">5m;</span>\n        <span class=\"hljs-string\">ssl_protocols</span>              <span class=\"hljs-string\">TLSv1.1</span> <span class=\"hljs-string\">TLSv1.2</span> <span class=\"hljs-string\">TLSv1.3;</span>\n        <span class=\"hljs-string\">ssl_ciphers</span>                <span class=\"hljs-string\">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span>\n        <span class=\"hljs-string\">ssl_prefer_server_ciphers</span>  <span class=\"hljs-string\">on;</span>\n\n        <span class=\"hljs-string\">location</span> <span class=\"hljs-string\">/</span> {\n                <span class=\"hljs-string\">proxy_pass</span> <span class=\"hljs-string\">http://192.168.2.2:9999;</span>\n        }\n    }\n</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707051719887-352471')\">yaml</div></pre><p>创建软链接，启用站点。</p>\n<pre><code id=\"pre-1707051719887-19609\" class=\"hljs language-bash\"><span class=\"hljs-built_in\">cd</span> /etc/nginx/sites-enabled/\nsudo <span class=\"hljs-built_in\">ln</span> -s ../sites-available/blossom blossom</code><ol><li><span class=\"line-num\"></span></li><li><span class=\"line-num\"></span></li></ol><div class=\"pre-copy\" onclick=\"onHtmlEventDispatch(this,'click',event,'copyPreCode','pre-1707051719887-19609')\">bash</div></pre>","creTime":null,"updTime":null,"color":null,"toc":"[{\"level\":1,\"clazz\":\"toc-1\",\"index\":0,\"content\":\"安装Nginx\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":1,\"content\":\"常用命令\"},{\"level\":1,\"clazz\":\"toc-1\",\"index\":2,\"content\":\"网站配置\"},{\"level\":2,\"clazz\":\"toc-2\",\"index\":3,\"content\":\"Blossom\"}]","type":3,"openStatus":null,"syncTime":"2024-02-04 21:41:43","openTime":"2024-02-04 21:41:43","openVersion":7}}